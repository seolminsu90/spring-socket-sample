<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>웹소켓 클라이언트 샘플</title>
</head>
<body>
<script>
    const socket = new WebSocket('ws://localhost:9000/ws/notifications');

    // 소켓이 열린 경우
    socket.addEventListener('open', (event) => {
        console.log('WebSocket 연결이 열렸습니다.');

        // 일정 간격으로 서버로 메시지를 전송
        setInterval(() => {
            const message = 'Hello, Server!';
            console.log(`클라이언트에서 서버로 메시지 전송: ${message}`);
            socket.send(message);
        }, 2000); // 2초 간격으로 메시지 전송
    });

    // 서버로부터 메시지를 수신한 경우
    socket.addEventListener('message', (event) => {
        console.log(`서버로부터 메시지 수신: ${event.data}`);
    });

    // 소켓이 닫힌 경우
    socket.addEventListener('close', (event) => {
        console.log('WebSocket 연결이 닫혔습니다.');
    });

    // 에러가 발생한 경우
    socket.addEventListener('error', (error) => {
        console.error('WebSocket 에러:', error.message);
    });
</script>
</body>
</html>
